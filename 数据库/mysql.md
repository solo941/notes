# 一、数据库索引原理

## B+ Tree

### 1.数据结构

B树即平衡树，是一颗m路查找树，具有的关键性质如下：

1. 每个结点至多m棵子树；
2. 根结点字少有两颗子树，根结点至少有一个关键字；
3. 除根结点外的每个分支结点至少有m/2棵子树；
4. 叶子结点在同一层；
5. 有k颗子树的分支结点存在k-1个关键字；
6. 关键字数量满足┌m/2┐ - 1 <= j <= m - 1。

利用平衡树的优势，查询时间复杂度O(logN),加快了查询的速度。因为数据保存在叶子结点和非叶子结点中，用中序遍历B树的关键字。查找时二分查找。

B+树基于B树和叶子结点顺序访问指针实现，具有B树的平衡性，又可以通过指针提高查询性能。与B树不同之处在于，结点的关键字不存储数据，只起到索引作用，因此，m个关键字的结点，子节点有m个，关键字数量满足┌m/2┐ - 1 <= j <= m。。B+树的数据存储在叶子结点上，B树的数据存储在每个一结点。因此，B+树搜索过程与高度相同，保证了稳定性，同时横向指针保证可在叶子节点进行区间访问。查找时先在非叶子结点二分查找，再在叶子节点二分查找。插入删除操作会破坏平衡性，需要维护平衡树结构。